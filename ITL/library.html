<!DOCTYPE html>
<html>

<head>
    <title>Library</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Style+Script&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Sidebar Starts-->
    <div class="sidebar">
        <!-- Sidebar Bottom starts -->
        <div class="sidebar-bottom">
            <!--Sidebar Logo-->
            <div class="headLogo">
                <center>
                    <a href="index.html"><h1 style="font-family: 'Style Script', cursive;">Soundify <i class="fa fa-headphones"></i></h1></a>
                </center>
            </div>

            <div class="sidebarList">
                <!-- <b> -->
                <a class="sidebarButtons" href="home.html"><i class="fa fa-home"></i>Home</a>
                <a class="sidebarButtons" href="search.html"><i class="fa fa-search"></i>Search</a>
                <a class="sidebarButtons sidebar-select" href="library.html"><i class="fa fa-database"></i>Library</a>
                <!-- </b> -->
            </div>
            <!--Sidebar Lists-->

            <div class="sidebarList">
                <h2>Playlists</h2>

                <div class="sidebarPlay">
                    <!-- Adding JS in Inline Code -->
                    <a class="bottomLine" href="#" onClick="alert('Liked Songs is Selected !');">
                        <i class="fa fa-chevron-circle-right"></i>
                        <span>Liked Songs</span>
                    </a>
                </div>
                <!--sidebar list item-->

                <div class="sidebarPlay">
                    <a class="bottomLine" href="#" onClick="alert('Favourite Playlist is selected !');">
                        <i class="fa fa-heart"></i>
                        <span>Favourite Playlist</span></a>
                </div>
                <!--sidebar list item-->
                <!-- <div class="sidebarPlay">
                    <a class="bottomLine" href="#" onClick="alert('Purchased is selected !');">
                        <i class="fa fa-shopping-bag"></i>
                        <span>Purchased</span>
                    </a>
                </div> -->
            </div>
            <!--sidebar playlists-->

            <div class="sidebarPlaylists">
                <h2 style="color:rgb(190,190,190)">Albums</h2>
                <a href="playlist1.html"><i class="fa fa-list-ul"></i>Native</a>
                <a href="playlist2.html"><i class="fa fa-list-ul"></i>Handwritten</a>
                <a href="playlist3.html"><i class="fa fa-list-ul"></i>Reputation</a>
                <a href="playlist4.html"><i class="fa fa-list-ul"></i>Rare</a>
                <a href="playlist5.html"><i class="fa fa-list-ul"></i>After Hours</a>
                <a href="playlist6.html"><i class="fa fa-list-ul"></i>Divide</a>
            </div>
            <!-- Log out -->
            <div class="sidebarList">
                <a class="sidebarButtons" href="logout.html"> <i class="fa fa-sign-out" style="font-size:20px"></i>Log Out</a>
            </div>
            <!--sidebar bottom closes-->
        </div>
        <!--sidebar ends-->
    </div>

    <!-- Main Part of Home Page -->
    <div class="main">
        <div class="mainBottom">
            <div class="MainRow">
                <div class="RowTitle">
                    <h2>My Songs</h2>
                </div>
                <!--Main Col 1-->
                <div class="MainCol" data-image="img/my1.png" data-song="French Montana & Swae Lee" data-artist="Unforgettable" data-file="assets/unforgettable.mp3">
                    <img src="img/my1.png" />
                    <h3>Unforgettable</h3>
                    <a style="color: rgb(137,133,133)"><h5>French Montana & Swae Lee</h5></a>
                </div>

                <!--Main Col 2-->
                <div class="MainCol" data-image="img/my2.jpg" data-song="DVBBS, Sondr & Keelan Donovan" data-artist="Swim" data-file="assets/swim.mp3">
                    <img src="img/my2.jpg" />
                    <h3>Swim</h3>
                    <a style="color: rgb(137,133,133)"><h5>DVBBS, Sondr & Keelan Donovan</h5></a>
                </div>

                <!-- Main Row 2 closes-->

                <!--Main Col 3-->
                <div class="MainCol" data-image="img/my3.png" data-song="Justin Bieber & Don Toliver" data-artist="Honest" data-file="assets/honest.mp3">
                    <img src="img/my3.png" />
                    <h3>Honest</h3>
                    <a style="color: rgb(137,133,133)"><h5>Justin Bieber & Don Toliver</h5></a>
                </div>

                <!-- Main Row 3 closes-->

                <!--Main Col 4-->
                <div class="MainCol" data-image="img/my4.png" data-song="Coldplay & Selena Gomez" data-artist="Let Somebody Go" data-file="assets/let-somebody-go.mp3">
                    <img src="img/my4.png" />
                    <h3>Let Somebody Go</h3>
                    <a style="color: rgb(137,133,133)"><h5>Coldplay & Selena Gomez</h5></a>
                </div>

                <!-- Main Row 4 closes-->

                <!--Main Col 5-->
                <div class="MainCol" data-image="img/my5.jpg" data-song="OneRepublic" data-artist="I Ain't Worried" data-file="assets/i-aint-worried.mp3">
                    <img src="img/my5.jpg" />
                    <h3>I Ain't Worried</h3>
                    <a style="color: rgb(137,133,133)"><h5>OneRepublic</h5></a>
                </div>

                <!-- Main Row 5 closes-->

                <!--Main Col 6-->
                <div class="MainCol" data-image="img/my6.jpg" data-song="The Strumbellas" data-artist="Spirits" data-file="assets/spirits.mp3">
                    <img src="img/my6.jpg" />
                    <h3>Spirits</h3>
                    <a style="color: rgb(137,133,133)"><h5>The Strumbellas</h5></a>
                </div>
            </div>
            <!--mainBottom closes-->
        </div>
        <!-- Main Part Closes -->
    </div>

    <!--Player-->
    <div class="player">
        <div class="PlayerArtist">
        </div>
        <div class="PlayerControl">
            <div class="PlayerControlButton">
                <a href=""><i class="fa fa-backward"></i></a>
                <a style="display: none;" id="pauseBtn" href="#"><i class="fa fa-pause-circle"></i></a>
                <a id="playBtn" href="#"><i class="fa fa-play-circle"></i></i></a>
                <a href=""><i class="fa fa-forward"></i></a>
            </div>
            <div class="PlayerControlProgress">
            </div>
        </div>
    </div>

    <audio id="audioplayer" style="position: absolute; left: 0; top: 0; z-index: -999; opacity: 0;" controls="">


	<script>
			var audioPlayer = document.getElementById('audioplayer');
			var loaded = false;
			var playBtn = document.getElementById('playBtn');
			var pauseBtn = document.getElementById('pauseBtn');
            // When pause button is clicked
			pauseBtn.addEventListener('click',(e)=>{
				e.preventDefault();
				playBtn.style.display = "inline";
				pauseBtn.style.display = "none";
				audioPlayer.pause();
				return false;
			});
            //When play button is clicked
            playBtn.addEventListener('click',(e)=>{
				e.preventDefault();

				playBtn.style.display = "none";
				pauseBtn.style.display = "inline";
				audioPlayer.play();
				return false;
			});

            function playSong(file){
					if(loaded == false){
						audioPlayer.innerHTML = `<source src="`+file+`" type="audio/mp3" />`;
						loaded = true;
					}
					audioPlayer.load();
					playBtn.style.display = "none";
					pauseBtn.style.display = "inline";
			}

            document.querySelectorAll('.MainCol').forEach(item =>{

            item.addEventListener('click',event=>{
                let image = item.getAttribute('data-image');
                let artist = item.getAttribute('data-artist');
                let song = item.getAttribute('data-song');
                let file = item.getAttribute('data-file');
                // Using Arrays
                const songDetails =[image,artist,song,file];
                alert("Song Details : " + songDetails);
                let playerArtistComponent = document.getElementsByClassName('PlayerArtist');
                playerArtistComponent[0].innerHTML = `
                    <img src="`+image+`" />
                    <h3>`+artist+`<br/><span>`+song+`</span></h3>
                `;
                playSong(file);
            })
            });

            audioPlayer.onloadstart = ()=>{
			}

			audioPlayer.oncanplaythrough = function() {
                let startSong="Going to start playing song"; 
    			audioPlayer.play();
			};

            let text = '{"libAlbum":[' +
                        '{"libSong":"Unforgettable","libArtist":"French Montana & Swae Lee" },' +
                        '{"libSong":"Pal - Jalebi","libArtist":"Shreya Ghoshal & Arijit Singh" },' +
                        '{"libSong":"Hawayein - Jab Harry Met Sejal","libArtist":"Arijit Singh" },' +
                        '{"libSong":"Yeh Kya Hua - Broken But Beautiful","libArtist":"Shreya Ghoshal" }]}';

            const obj = JSON.parse(text);
            for (let i = 0; i < 4; i++)
            {
                document.getElementById("libSong"+(i+1)).innerHTML = obj.libAlbum[i].libSong;
                document.getElementById("libArtist"+(i+1)).innerHTML = obj.libAlbum[i].libArtist;
            }
	</script>
</body>
</html>